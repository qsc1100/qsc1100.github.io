<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>終極密碼</title>
    <style>
        .container{
            width: 400px;
            border: 2px solid greenyellow;
        }
    
    </style>
</head>
<body>
    <div class="container ">
        <h1 class="d-flex justify-content-center">終極密碼</h1>
        <div class="range d-flex justify-content-center ">
            <p class="fs-2">1~99</p>
        </div>
        <div class="playArea d-flex justify-content-center mb-3">
            <button class="start">遊戲開始</button>
        </div>
        <div class="inputArea d-flex justify-content-center mb-3">
            <input type="text" disabled>
        </div>
        <div class="row">
            <button class="col-4 num">1</button>
            <button class="col-4 num">2</button>
            <button class="col-4 num">3</button>
            <button class="col-4 num">4</button>
            <button class="col-4 num">5</button>
            <button class="col-4 num">6</button>
            <button class="col-4 num">7</button>
            <button class="col-4 num">8</button>
            <button class="col-4 num">9</button>
            <button class="col-4 reset">X</button>
            <button class="col-4 num">0</button>
            <button class="col-4 guess">V</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script> 
    <script>
        let answer
        let min = 1
        let max = 99

        //DOM
        let startBtn = document.querySelector('.start')
        let guessinput = document.querySelector('input')
        let ansArea = document.querySelector('p')
        let resetBtn = document.querySelector('.reset')
        let guessBtn = document.querySelector('.guess')
        //數字們
        let numBtns = document.querySelectorAll('.num')

        // window.onload
        window.onload = function(){
            //遊戲開始
            alert('請點擊遊戲開始按鈕')
            numBtns.forEach(btn=>{
                btn.disabled = true
            })
            resetBtn.disabled = true
                
            guessBtn.disabled = true
            //遊戲開始按鈕
            startBtn.onclick = function(){
                //將獲取亂數1~99放到 answer裡
                answer = getAnswer()
                console.log(getAnswer)
                alert('遊戲開始')
                numBtns.forEach(btn=>{
                    btn.disabled = false
                })
                resetBtn.disabled = false                
                guessBtn.disabled = false
            }
            //清除按鈕
            resetBtn.onclick = function(){
                guessinput.value = ''
            }
            //數字按鈕加入到input
            numBtns.forEach(btn=>{
                btn.onclick = function(){
                    guessinput.value +=btn.innerText
                }
            })
            //猜的按鈕
            guessBtn.onclick = function(){
                guessAnswer()
            }
        }
        //取到1~99亂數
        function getAnswer(){
            return Math.floor(Math.random()*(100 -1)+1)
        }
        function guessAnswer(){
            //input裡的是字串，要先轉成數字
            // 需宣告新的變數
            let guessNum = parseInt(guessinput.value)
            if( guessNum == answer){
                alert('猜中了')
            }else if(guessNum < min || guessNum > max){
                alert("請輸入範圍內數字");
            }else if( guessNum < answer){
                min = guessNum
            }else if( guessNum > answer){
                max = guessNum
            }
            guessinput.value = ''
            ansArea.innerText = `${min}~${max}`
        }
    </script>
</body>
</html>